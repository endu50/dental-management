<div class="container-fluid"> 
  <div class="row m-3">
    <h2 class="bg-dark-subtle text-center">Appointment Registration And Data View Page!</h2>
  </div>
    <div class="row">
    <div class="col-md-5"> 
<div>
  <div class="card shadow-lg">
    <div class="card-header">
      <h2 class="text-center mt-5 bg-success-subtle">Appointment Form</h2>
    </div>
      <div class="card-body">
<form [formGroup]="appointForm" (ngSubmit)="onSubmit()" class="container mt-4">
 

  <div class="mb-3">
    <label class="form-label">Patient Name</label>
    <input formControlName="patientName" type="text" class="form-control" placeholder="Enter patient name">
    <div class="text-danger" *ngIf="f['patientName'].touched && f['patientName'].invalid">
      <small *ngIf="f['patientName'].errors?.['required']">Patient Name is required.</small>
      <small *ngIf="f['patientName'].errors?.['minlength']">Minimum 5 characters required.</small>
    </div>
  </div>
    <div class="mb-3">
    <label class="form-label">Phone</label>
    <input type="text" inputmode="numeric" formControlName="phone" class="form-control" placeholder="Enter phone number">
    <div class="text-danger" *ngIf="f['phone'].touched && f['phone'].invalid">
      <small *ngIf="f['phone'].errors?.['required']">Phone is required.</small>
     <small *ngIf="f['phone'].errors?.['pattern']">Phone must be 10 digit Numbers.</small> 
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Appointment Date</label>
    <input formControlName="appointmentDate" type="date" class="form-control">
    <div class="text-danger" *ngIf="f['appointmentDate'].touched && f['appointmentDate'].invalid">
      <small *ngIf="f['appointmentDate'].errors?.['required']">Appointment date is required.</small>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Treatment Type</label>
    <input formControlName="treatmentType" type="text" class="form-control" placeholder="Enter treatment type">
    <div class="text-danger" *ngIf="f['treatmentType'].touched && f['treatmentType'].invalid">
      <small *ngIf="f['treatmentType'].errors?.['required']">Treatment type is required.</small>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Dentist Name</label>
    <input formControlName="dentistName" type="text" class="form-control" placeholder="Enter dentist name">
    <div class="text-danger" *ngIf="f['dentistName'].touched && f['dentistName'].invalid">
      <small *ngIf="f['dentistName'].errors?.['required']">Dentist Name is required.</small>
    </div>
  </div>
   <div class="mb-3">
    <label class="form-label">Status</label>
 <select formControlName="status" class="form-select">
         <option value="">Select Status</option>
        <option value="pending">pending</option>
         <option value="canceled">canceled</option>
          <option value="completed">completed</option>
      
      </select>
          <div class="text-danger" *ngIf="f['status'].touched && f['status'].invalid">
      <small *ngIf="f['status'].errors?.['required']">Status is required.</small>
    </div>
  </div>

  <button type="submit" class="btn btn-success w-25 mx-2">{{isEdit ? 'Update' : 'Register'}}</button>
  <button type="button" class="btn btn-secondary w-25" (click)="resetForm()">Clear</button>
  
</form>
      </div>
  </div>
</div>
    </div>
    <div class="col-md-7">
    <div class="border-success mb-2 d-flex ">
      <strong class="mt-2">Search On Box:</strong><input type="text" class="form-control w-25 border-success" placeholder="Enter Name Or Phone"[(ngModel)]="searchText">
    </div>
      <table class="table table-bordered border-success">
        <thead class="table-info bg-success fs-4">
          <th>AppointId</th>
             <th>Name</th>
                <th>Phone</th>
                   <th>AppointDate</th>
                   <th>TreatmentType</th>
                   <th>DentistName</th>
                   <th>Status</th>
        </thead>
        <tbody>
          <tr *ngFor="let item of GetPages">
            <td>{{item.appointId}}</td>
             <td>{{item.patientName}}</td>
              <td>{{item.phone}}</td>
               <td>{{item.appointmentDate | date}}</td>
               <td>{{item.treatmentType}}</td>
               <td>{{item.dentistName}}</td>
               <td>{{item.status}}</td>
               <td>
                <button type="button" class="btn btn-info" (click)="onEdit(item)">Edit</button>
               </td>
          </tr>
          <tr *ngIf="appointments.length === 0">
            <td colspan="6">No Record Found</td>
          </tr>
        </tbody>
      </table>
      <nav *ngIf="TotalPages > 1">
         <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="page === 1">
        <button class="page-link" (click)="page = page - 1">Previous</button>
      </li>
      <li class="page-item" *ngFor="let i of [].constructor(TotalPages); let idx = index" [class.active]="page === idx + 1">
        <button class="page-link" (click)="page = idx + 1">{{ idx + 1 }}</button>
      </li>
      <li class="page-item" [class.disabled]="page === TotalPages">
        <button class="page-link" (click)="page = page + 1">Next</button>
      </li>
    </ul>
      </nav>

    </div>
  </div>
</div>


  
  <!-- <h3>Appointments</h3>
  <ul>
    <li *ngFor="let appoint of appointments">
      {{ appoint.patientName }} - {{ appoint.appointmentDate | date }} - {{ appoint.treatmentType }} - {{ appoint.dentistName }}
    </li>
  </ul> -->
  